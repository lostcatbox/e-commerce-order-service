# 요구사항 목록

- 포인트 잔액 충전
- 포인트 잔액 조회
- 상품 조회
- 주문 + 결제
- 선착순 쿠폰
- 인기 판매 상품 조회



# 유스케이스(API)

## 포인트 유스케이스

- **사용자 ID 및 충전할 금액을 받아 잔액을 충전합니다.**
  - 🔥 기능적 요구사항
    - 유효한 사용자이여야 합니다.
    - 충전 후 잔액은 범위(0~2,000,000) 안에 있어야 합니다.
  - 🔋 비기능적 요구사항
    - 같은 사용자 ID에 대해 동시에 **수많은 포인트 충전 요청 시, 정확한 충전 필요**
- **사용자 ID를 통해 해당 사용자의 잔액을 조회합니다.**
  - 🔥 기능적 요구사항
    - 유효한 사용자이여야 합니다.



## 상품 유스케이스

- **상품 ID를 통해 상품 정보(ID, 이름, 가격, 잔여수량) 조회합니다.**
  - 🔥 기능적 요구사항
    - 기존에 등록된 상품ID이여야 합니다.
- **최근 3일간 가장 많이 팔린 상위 5개 상품 정보를 조회합니다.**
  - 🔋 비기능적 요구사항
    - **초당 1만 건 조회를 평균 0.3ms 안에 응답해야 합니다.**
      - 통계 정보를 다루기 위한 기술적 고민이 필요합니다.
        - ReadDB, ViewTable 등 활용 가능



## 선착순 쿠폰 유스케이스

- **사용자에게 선착순 할인 쿠폰 발급합니다.**
  - 🔥 기능적 요구사항
    - 유효한 사용자이여야 합니다.
    - 해당 할인 쿠폰의 재고수량이 남아있어야 합니다.
  - 🔋 비기능적 요구사항
    - 동시에 많은 요청이 들어왔을 때, **정확한 할인 쿠폰 재고 차감 및 사용자에게 할인 쿠폰 발급**해야 합니다.
- **사용자의 보유 쿠폰 목록을 조회합니다.**
  - 🔥 기능적 요구사항
    - 유효한 사용자이여야 합니다.



## 주문 및 결제 유스케이스

- **사용자 ID와 [상품 ID, 수량] 목록을 입력받는 주문 요청을 처리하고 결제를 진행합니다.**
  - **주문처리 시 요구사항**
    - 🔥 기능적 요구사항
      - 유효한 사용자이여야 합니다.
      - 주문 요청 시 **유효한 할인 쿠폰을 함께 제출하면, 전체 주문금액에 대해서 할인 혜택을 부여받는다.**
      - 기존에 상품 ID가 존재해야 합니다.
      - **상품 ID에 대한 재고수량이 충분한 경우에만,** 정상적인 주문이 처리됩니다.
    - 🔋 비기능적 요구사항
      - 동시에 여러 주문이 들어올 경우, **사용자의 미사용된 쿠폰만 사용 가능**해야 합니다.
      - 동시에 여러 주문이 들어올 경우, **각 상품의 재고 차감이 정상적으로 이루어져**, 잘못된 주문이 발생하지 않도록 합니다.
  - **결제 처리 시 요구사항**
    - 🔥 기능적 요구사항
      - **기존에 충전된 포인트 잔액을 기반으로 수행**하며, 결제 성공 시 잔액을 차감합니다.
      - 선착순 쿠폰 할인 적용시, **쿠폰 할인 적용 전 전체 결제 금액 - 쿠폰 할인 금액은 반드시 0 이상** 이여야 합니다.
    - 🔋 비기능적 요구사항
      - 동시에 여러 주문이 들어올 경우, **유저의 보유 잔액에 대한 처리가 정확**해야 합니다.
  - **그 외의 요구사항**
    - 🔥 기능적 요구사항
      - 데이터 분석을 위해 결제 성공 시에 **실시간으로 주문 정보를 데이터 플랫폼(외부)에 전송**합니다.





